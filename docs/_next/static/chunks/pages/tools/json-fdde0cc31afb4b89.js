(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[735],{6395:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return d},_genSearchPath:function(){return m},default:function(){return g}});var r=t(2640);function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,t=null;return function(){clearTimeout(t);for(var r=arguments.length,u=Array(r),o=0;o<r;o++)u[o]=arguments[o];t=setTimeout.apply(void 0,[e,n].concat(u))}}function o(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return function e(n,t,r,u,o){switch(n){case null:return t("null",r,n);case void 0:return t("undefined",r,n);case!1:return t("false",r,n);case!0:return t("true",r,n)}if("number"==typeof n)return t(String(n),r,n);if("string"==typeof n){for(var l="",c=0;c<n.length;++c){var i=n[c];l+=Object.prototype.hasOwnProperty.call(a,i)?a[i]:i}return t(l='"'.concat(l,'"'),r,n)}if(Array.isArray(n)){var s="[";return n.forEach(function(n,a,l){r.push(String(a));var c=e(n,t,r,u,o+u);s+="".concat(o).concat(u).concat(c),a!==l.length-1&&(s+=","),r.pop()}),t(s+="".concat(o,"]"),r,n)}if("object"==typeof n){var f="{";return Object.keys(n).forEach(function(a,l,c){r.push(a);var i=e(n[a],t,r,u,o+u);f+="".concat(o).concat(u,'"').concat(a,'": ').concat(i),l!==c.length-1&&(f+=","),r.pop()}),t(f+="".concat(o,"}"),r,n)}return"undefined"}(e,null!=n?n:function(e){return e},[]," ".repeat(t),"\n")}var a={'"':'\\"',"\n":"\\n","\r":"\\r","	":"\\t"},l=t(7294);function c(e){var n=l.useState(e),t=(0,r.Z)(n,2),u=t[0],o=t[1];return[u,function(e){return o(function(n){return!function(e,n){if(null===e||null===n)return e===n;if("object"==typeof e&&"object"==typeof n){if(Array.isArray(e)&&Array.isArray(n))return e.length===n.length&&e.every(function(e,t){return n[t]===e});var t=Object.keys(e),r=Object.keys(n);return t.length===r.length&&t.every(function(t){return e[t]===n[t]})}return e===n}(n,e)?e:n})}]}var i=0,s=t(5893),f=function(e){var n,t=null!==(n=e.name)&&void 0!==n?n:"",r=e.onChange,u=e.options,o=l.useMemo(function(){return"string"==typeof t?"_".concat(t,"_").concat(++i):"_".concat(++i)},[t]),a=(0,s.jsx)("input",{className:e.className,list:o,name:t,onChange:function(e){r(e.currentTarget.value,t)},onKeyDown:function(e){"Enter"===e.key&&Array.isArray(u)&&u.length>0&&(r(u[0],t),e.preventDefault())},placeholder:e.placeholder,type:"text",value:e.value});return null!=u?(0,s.jsxs)(s.Fragment,{children:[a,(0,s.jsx)("datalist",{id:o,children:u.map(function(e){return(0,s.jsx)("option",{value:e},e)})})]}):a};function v(e){var n="";return"string"==typeof e&&(n=e),Array.isArray(e)&&e.forEach(function(e){var t=v(e);t&&n&&(n+=" "),n+=t}),n}var h=l.forwardRef(function(e,n){var t,o=e.name,a=e.onChange,c=l.useRef(null),i=l.useRef(null),f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=l.useState(Boolean(e)),t=(0,r.Z)(n,2),u=t[0],o=t[1];return{setFalse:l.useCallback(function(){return o(!1)},[]),setTrue:l.useCallback(function(){return o(!0)},[]),setValue:o,toggle:l.useCallback(function(){return o(function(e){return!e})}),value:u}}(),h=f.setFalse,p=f.setTrue,y=f.toggle,d=f.value,g=((t=l.useRef(d)).current=d,t);l.useImperativeHandle(n,function(){return{isViewShown:d,hideView:h,showView:p,toggleView:y}},[d]);var m=l.useRef(u(function(e){if(!g.current){var n,t=e.target.scrollTop;null===(n=i.current)||void 0===n||n.scroll(0,t)}})).current,b=l.useRef(u(function(e){if(g.current){var n,t=e.target.scrollTop;null===(n=c.current)||void 0===n||n.scroll(0,t)}})).current,w="w-100 ma0 pa2 overflow-auto code ba b--black";return(0,s.jsxs)("div",{className:"relative f5",children:[(0,s.jsx)("textarea",{className:v([w,"db relative",d?"z-0":"z-1"]),name:o,onChange:function(e){a(e.currentTarget.value,o)},onKeyDown:function(e){(e.ctrlKey||e.metaKey)&&"v"===e.key&&setTimeout(p,150)},onScroll:m,placeholder:e.placeholder,ref:c,rows:e.rows,style:{resize:"vertical"},value:e.value}),(0,s.jsx)("pre",{className:v([w,"pre-wrap near-black bg-near-white absolute absolute--fill",d?"z-1":"z-0"]),dangerouslySetInnerHTML:{__html:e.valueHtml},onScroll:b,ref:i}),(0,s.jsx)("button",{className:"absolute right-2 top-1 z-2",onClick:y,children:d?"Вывод":"Ввод"})]})}),p=t(1142);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var d=!0;function g(e){var n=l.useRef(null),t=l.useState(""),a=(0,r.Z)(t,2),i=a[0],v=a[1],d=l.useState(""),g=(0,r.Z)(d,2),b=g[0],w=g[1],j=l.useState(null),k=(0,r.Z)(j,2),S=k[0],_=k[1],E=l.useState(""),A=(0,r.Z)(E,2),x=A[0],N=A[1],C=c(null),T=(0,r.Z)(C,2),O=T[0],R=T[1],V=c(null),Z=(0,r.Z)(V,2),z=Z[0],I=Z[1],P=l.useRef(u(function(e){try{""===e?_(null):_((0,p.parse)(e))}catch(e){_(e)}},100)).current;return l.useEffect(function(){P(i)},[i]),l.useEffect(function(){R(m(b,S))},[b,S]),l.useEffect(function(){I(function(e,n,t){var r=(null!=n?n:[]).join(".");if(""!==r&&(r+="."),null!=n){var u,o=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}}(e))){t&&(e=t);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:u}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}(n);try{for(o.s();!(u=o.n()).done;)t=t[u.value]}catch(e){o.e(e)}finally{o.f()}}return null!=t&&"object"==typeof t?Object.keys(t).map(function(e){return r+e}).filter(function(n){return n.includes(e)}).sort():null}(b,O,S))},[b,S,O]),l.useEffect(function(){N(function(e,n){if(e instanceof Error)return e.message;if(null==n||0===n.length)return o(e);var t=o(e,function(e,t,r){return n.length===t.length&&n.every(function(e,n){return t[n]===e})?"<span class='blue'>".concat(e,"</span>"):e});return"<span class='mid-gray'>".concat(t,"</span>")}(S,O))},[S,O]),l.useEffect(function(){return document.addEventListener("keydown",e,!0),function(){return document.removeEventListener("keydown",e,!0)};function e(e){if("Escape"===e.key){var t;null===(t=n.current)||void 0===t||t.toggleView()}}},[]),(0,s.jsx)("section",{className:"min-vh-100 w-100 bg-white",children:(0,s.jsxs)("div",{className:"mw8 ph4 pv3 center",children:[(0,s.jsx)(h,{onChange:v,placeholder:"Введи json строку для форматирования",ref:n,rows:"27",value:i,valueHtml:x}),(0,s.jsx)(f,{className:"w-70 mt2 pa2 ba b--black",name:"search",onChange:function(e){var t,r;null!==(t=n.current)&&void 0!==t&&t.isViewShown||null===(r=n.current)||void 0===r||r.toggleView(),w(e)},options:z,placeholder:"Найти нужный ключ",value:b})]})})}function m(e,n){if(""===e||"string"!=typeof e||null==n)return null;for(var t=[],r=0,u=0;u<e.length;++u){var o="."===e[u],a=e.length===u+1;if(o||a){var l=e.substring(r,o?u:u+1);if(Object.prototype.hasOwnProperty.call(n,l))t.push(l),n=n[l],r=u+1;else break;if(null==n||"object"!=typeof n)break}}return t}},9076:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/json",function(){return t(6395)}])}},function(e){e.O(0,[943,774,888,179],function(){return e(e.s=9076)}),_N_E=e.O()}]);