(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[735],{8925:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return p},_genSearchPath:function(){return h},default:function(){return y}});var r=t(2640);function u(n){var e="";return"string"==typeof n&&(e=n),Array.isArray(n)&&n.forEach(function(n){var t=u(n);t&&e&&(e+=" "),e+=t}),e}function a(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return function n(e,t,r,u,a){switch(e){case null:return t("null",r,e);case void 0:return t("undefined",r,e);case!1:return t("false",r,e);case!0:return t("true",r,e)}if("number"==typeof e)return t(String(e),r,e);if("string"==typeof e)return t('"'.concat(e,'"'),r,e);if(Array.isArray(e)){var o="[";return e.forEach(function(e,c,i){r.push(String(c));var l=n(e,t,r,u,a+u);o+="".concat(a).concat(u).concat(l),c!==i.length-1&&(o+=","),r.pop()}),t(o+="".concat(a,"]"),r,e)}if("object"==typeof e){var c="{";return Object.keys(e).forEach(function(o,i,l){r.push(o);var s=n(e[o],t,r,u,a+u);c+="".concat(a).concat(u,'"').concat(o,'": ').concat(s),i!==l.length-1&&(c+=","),r.pop()}),t(c+="".concat(a,"}"),r,e)}return"undefined"}(n,null!=e?e:function(n){return n},[]," ".repeat(t),"\n")}var o=t(7294);function c(n){var e=o.useState(n),t=(0,r.Z)(e,2),u=t[0],a=t[1];return[u,function(n){return a(function(e){return!function(n,e){if(null===n||null===e)return n===e;if("object"==typeof n&&"object"==typeof e){if(Array.isArray(n)&&Array.isArray(e))return n.length===e.length&&n.every(function(n,t){return e[t]===n});var t=Object.keys(n),r=Object.keys(e);return t.length===r.length&&t.every(function(t){return n[t]===e[t]})}return n===e}(e,n)?n:e})}]}var i=0,l=t(5893),s=function(n){var e,t=null!==(e=n.name)&&void 0!==e?e:"",r=n.onChange,u=n.options,a=o.useMemo(function(){return"string"==typeof t?"_".concat(t,"_").concat(++i):"_".concat(++i)},[t]),c=(0,l.jsx)("input",{className:n.className,list:a,name:t,onChange:function(n){r(n.currentTarget.value,t)},onKeyDown:function(n){"Tab"===n.key&&Array.isArray(u)&&u.length>0&&(r(u[0],t),n.preventDefault())},placeholder:n.placeholder,type:"text",value:n.value});return null!=u?(0,l.jsxs)(l.Fragment,{children:[c,(0,l.jsx)("datalist",{id:a,children:u.map(function(n){return(0,l.jsx)("option",{value:n},n)})})]}):c},f=t(1142);function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var p=!0;function y(n){var e=o.useState(""),t=(0,r.Z)(e,2),i=t[0],p=t[1],y=o.useState(""),d=(0,r.Z)(y,2),b=d[0],g=d[1],m=o.useState(null),j=(0,r.Z)(m,2),w=j[0],k=j[1],_=o.useState(""),E=(0,r.Z)(_,2),A=E[0],S=E[1],N=c(null),x=(0,r.Z)(N,2),T=x[0],C=x[1],O=c(null),Z=(0,r.Z)(O,2),z=Z[0],I=Z[1],K=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=o.useState(Boolean(n)),t=(0,r.Z)(e,2),u=t[0],a=t[1];return{setFalse:o.useCallback(function(){return a(!1)},[]),setTrue:o.useCallback(function(){return a(!0)},[]),setValue:a,toggle:o.useCallback(function(){return a(function(n){return!n})}),value:u}}(),P=K.setTrue,D=K.toggle,L=K.value,M=o.useRef(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,t=null;return function(){clearTimeout(t);for(var r=arguments.length,u=Array(r),a=0;a<r;a++)u[a]=arguments[a];t=setTimeout.apply(void 0,[n,e].concat(u))}}(function(n){try{""===n?k(null):k((0,f.parse)(n))}catch(n){k(n)}},100)).current;o.useEffect(function(){M(i)},[i]),o.useEffect(function(){C(h(b,w))},[b,w]),o.useEffect(function(){I(function(n,e,t){var r=(null!=e?e:[]).join(".");if(""!==r&&(r+="."),null!=e){var u,a=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(n,e)}}(n))){t&&(n=t);var r=0,u=function(){};return{s:u,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:u}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return o=n.done,n},e:function(n){c=!0,a=n},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}(e);try{for(a.s();!(u=a.n()).done;)t=t[u.value]}catch(n){a.e(n)}finally{a.f()}}return null!=t&&"object"==typeof t?Object.keys(t).map(function(n){return r+n}).filter(function(e){return e.includes(n)}).sort():null}(b,T,w))},[b,w,T]),o.useEffect(function(){S(function(n,e){if(n instanceof Error)return n.message;if(null==e||0===e.length)return a(n);var t=a(n,function(n,t,r){return e.length===t.length&&e.every(function(n,e){return t[e]===n})?"<span class='blue'>".concat(n,"</span>"):n});return"<span class='mid-gray'>".concat(t,"</span>")}(w,T))},[w,T]),o.useEffect(function(){return document.addEventListener("keydown",n,!0),function(){return document.removeEventListener("keydown",n,!0)};function n(n){"Escape"===n.key&&D()}},[]);var F=(0,l.jsxs)("div",{className:"relative f5",children:[(0,l.jsx)("textarea",{className:u(["w-100 ma0 pa2 overflow-auto db relative code ba b--black",L?"z-0":"z-1"]),name:"input",onChange:function(n){p(n.currentTarget.value)},onKeyDown:function(n){(n.ctrlKey||n.metaKey)&&"v"===n.key&&setTimeout(P,150)},options:z,placeholder:"Введи json строку для форматирования",rows:"27",style:{resize:"vertical"},value:i}),(0,l.jsx)("pre",{className:u(["ma0 pa2 overflow-auto code near-black ba b--black bg-near-white","absolute absolute--fill",L?"z-1":"z-0"]),dangerouslySetInnerHTML:{__html:A}}),(0,l.jsx)("button",{className:"absolute right-2 top-1 z-2",onClick:D,children:L?"Вывод":"Ввод"})]});return(0,l.jsx)("section",{className:"min-vh-100 w-100 bg-white",children:(0,l.jsxs)("div",{className:"mw8 ph4 pv3 center",children:[F,(0,l.jsx)(s,{className:"w-70 mt2 pa2 ba b--black",name:"search",onChange:function(n){L||D(),g(n)},options:z,placeholder:"Найти нужный ключ",value:b})]})})}function h(n,e){if(""===n||"string"!=typeof n||null==e)return null;for(var t=[],r=0,u=0;u<n.length;++u){var a="."===n[u],o=n.length===u+1;if(a||o){var c=n.substring(r,a?u:u+1);if(Object.prototype.hasOwnProperty.call(e,c))t.push(c),e=e[c],r=u+1;else break;if(null==e||"object"!=typeof e)break}}return t}},9076:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/json",function(){return t(8925)}])}},function(n){n.O(0,[943,774,888,179],function(){return n(n.s=9076)}),_N_E=n.O()}]);